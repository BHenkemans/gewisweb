/*! bootstrap-calendar - v0.2.5 - 2016-05-01 - https://github.com/Serhioromano/bootstrap-calendar (modified by the Web Committee of GEWIS)*/
"use strict";Date.prototype.getWeek=function(t){if(t){var e=new Date(this.valueOf()),t=(this.getDay()+6)%7;e.setDate(e.getDate()-t+3);t=e.valueOf();return e.setMonth(0,1),4!=e.getDay()&&e.setMonth(0,1+(4-e.getDay()+7)%7),1+Math.ceil((t-e)/6048e5)}e=new Date(this.getFullYear(),0,1);return Math.ceil(((this.getTime()-e.getTime())/864e5+e.getDay()+1)/7)},Date.prototype.getMonthFormatted=function(){var t=this.getMonth()+1;return t<10?"0"+t:t},Date.prototype.getDateFormatted=function(){var t=this.getDate();return t<10?"0"+t:t},String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==a[e]?a[e]:t})}),String.prototype.formatNum||(String.prototype.formatNum=function(t){for(var e=""+this;e.length<t;)e="0"+e;return e}),function(p){var a={tooltip_container:"body",width:"100%",view:"month",day:"now",time_start:"06:00",time_end:"22:00",time_split:"30",events_source:"",events_cache:!1,format12:!1,am_suffix:"AM",pm_suffix:"PM",tmpl_path:"tmpls/",tmpl_cache:!0,classes:{months:{inmonth:"cal-day-inmonth",outmonth:"cal-day-outmonth",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"},week:{workday:"cal-day-workday",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"}},modal:null,modal_type:"iframe",modal_title:null,views:{year:{slide_events:1,enable:1},month:{slide_events:1,enable:1},week:{enable:1},day:{enable:1}},merge_holidays:!1,display_week_numbers:!0,weekbox:!0,show_events_which_fits_time:!1,headers:{},onAfterEventsLoad:function(t){},onBeforeEventsLoad:function(t){t()},onAfterViewLoad:function(t){},onAfterModalShown:function(t){},onAfterModalHidden:function(t){},events:[],templates:{year:"",month:"",week:"",day:""},stop_cycling:!1},n={first_day:2,week_numbers_iso_8601:!1,holidays:{"01-01":"New Year's Day","01+3*1":"Birthday of Dr. Martin Luther King, Jr.","02+3*1":"Washington's Birthday","05-1*1":"Memorial Day","04-07":"Independence Day","09+1*1":"Labor Day","10+2*1":"Columbus Day","11-11":"Veterans Day","11+4*4":"Thanksgiving Day","25-12":"Christmas"}},e={error_noview:"Calendar: View {0} not found",error_dateformat:'Calendar: Wrong date format {0}. Should be either "now" or "yyyy-mm-dd"',error_loadurl:"Calendar: Event URL is not set",error_where:'Calendar: Wrong navigation direction {0}. Can be only "next" or "prev" or "today"',error_timedevide:"Calendar: Time split parameter should divide 60 without decimals. Something like 10, 15, 30",no_events_in_day:"No events in this day.",title_year:"{0}",title_month:"{0} {1}",title_week:"week {0} of {1}",title_day:"{0} {1} {2}, {3}",week:"Week {0}",all_day:"All day",time:"Time",events:"Events",before_time:"Ends before timeline",after_time:"Starts after timeline",m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December",ms0:"Jan",ms1:"Feb",ms2:"Mar",ms3:"Apr",ms4:"May",ms5:"Jun",ms6:"Jul",ms7:"Aug",ms8:"Sep",ms9:"Oct",ms10:"Nov",ms11:"Dec",d0:"Sunday",d1:"Monday",d2:"Tuesday",d3:"Wednesday",d4:"Thursday",d5:"Friday",d6:"Saturday",options:"Options",planned:"Planned",no_options:"No options",no_planned:"No planned activities"},i="";try{"object"==p.type(window.jstz)&&"function"==p.type(jstz.determine)&&(i=jstz.determine().name(),"string"!==p.type(i)&&(i=""))}catch(t){}function r(t,e){var a=null!=t.options[e]?t.options[e]:null,o=null!=t.locale[e]?t.locale[e]:null;if("holidays"==e&&t.options.merge_holidays){t={};return p.extend(!0,t,o||n.holidays),a&&p.extend(!0,t,a),t}return null!=a?a:null!=o?o:n[e]}function s(t,w){var e,a=[],o=r(t,"holidays");for(e in o)a.push(e+":"+o[e]);if(a.push(w),(a=a.join("|"))in s.cache)return s.cache[a];var n=[];return p.each(o,function(y,t){var g=null,_=null,v=!1;if(p.each(y.split(">"),function(t,e){var a,o,n,i,s,r,l,d,h,p=null;if(a=/^(\d\d)-(\d\d)$/.exec(e))p=new Date(w,parseInt(a[2],10)-1,parseInt(a[1],10));else if(a=/^(\d\d)-(\d\d)-(\d\d\d\d)$/.exec(e))parseInt(a[3],10)==w&&(p=new Date(w,parseInt(a[2],10)-1,parseInt(a[1],10)));else if(a=/^easter(([+\-])(\d+))?$/.exec(e))o=w,n=a[1]?parseInt(a[1],10):0,i=o%19,s=Math.floor(o/100),r=o%100,l=Math.floor(s/4),d=s%4,h=Math.floor((s+8)/25),h=Math.floor((s-h+1)/3),l=(19*i+s-l-h+15)%30,h=Math.floor(r/4),r=(32+2*d+2*h-l-r%4)%7,i=Math.floor((i+11*l+22*r)/451),r=l+r+7*i+114,i=Math.floor(r/31)-1,p=new Date(o,i,r%31+1+(n||0),0,0,0);else if(a=/^(\d\d)([+\-])([1-5])\*([0-6])$/.exec(e)){var c=parseInt(a[1],10)-1,e=a[2],u=parseInt(a[3]),m=parseInt(a[4]);switch(e){case"+":for(var f=new Date(w,c,-6);f.getDay()!=m;)f=new Date(f.getFullYear(),f.getMonth(),f.getDate()+1);p=new Date(f.getFullYear(),f.getMonth(),f.getDate()+7*u);break;case"-":for(f=new Date(w,1+c,7);f.getDay()!=m;)f=new Date(f.getFullYear(),f.getMonth(),f.getDate()-1);p=new Date(f.getFullYear(),f.getMonth(),f.getDate()-7*u)}}if(!p)return D("Unknown holiday: "+y),!(v=!0);switch(t){case 0:g=p;break;case 1:if(p.getTime()<=g.getTime())return D("Unknown holiday: "+y),!(v=!0);_=p;break;default:return D("Unknown holiday: "+y),!(v=!0)}}),!v){var e=[];if(_)for(var a=new Date(g.getTime());a.getTime()<=_.getTime();a.setDate(a.getDate()+1))e.push(new Date(a.getTime()));else e.push(g);n.push({name:t,days:e})}}),s.cache[a]=n,s.cache[a]}function D(t){"object"==p.type(window.console)&&"function"==p.type(window.console.warn)&&window.console.warn("[Bootstrap-Calendar] "+t)}function o(t,e){return this.options=p.extend(!0,{position:{start:new Date,end:new Date}},a,t),this.setLanguage(this.options.language),(this.context=e).css("width",this.options.width).addClass("cal-context"),this}function l(t,e,a,o){t.stopPropagation();var n=(e=p(e)).closest(".cal-cell"),i=n.closest(".cal-before-eventlist"),s=n.data("cal-row");e.fadeOut("fast"),a.slideUp("fast",function(){var t=p(".events-list",n);a.html(o.options.templates["events-list"]({cal:o,events:o.getEventsBetween(parseInt(t.data("cal-start")),parseInt(t.data("cal-end")))})),i.after(a),o.activecell=p("[data-cal-date]",n).text(),p("#cal-slide-tick").addClass("tick"+s).show(),a.slideDown("fast",function(){p("body").one("click",function(){a.slideUp("fast"),o.activecell=0})})}),setTimeout(function(){p("a.event-item").mouseenter(function(){p('a[data-event-id="'+p(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+p(this).data("event-class"))}),p("a.event-item").mouseleave(function(){p("div.cal-cell1").removeClass("day-highlight dh-"+p(this).data("event-class"))}),o._update_modal()},400)}s.cache={},o.prototype.setOptions=function(t){p.extend(this.options,t),"language"in t&&this.setLanguage(t.language),"modal"in t&&this._update_modal()},o.prototype.setLanguage=function(t){window.calendar_languages&&t in window.calendar_languages?(this.locale=p.extend(!0,{},e,calendar_languages[t]),this.options.language=t):(this.locale=e,delete this.options.language)},o.prototype._render=async function(){this.context.html(""),await this._loadTemplate(this.options.view),this.stop_cycling=!1;var t={};t.cal=this,(t.day=1)==r(this,"first_day")?t.days_name=[this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6,this.locale.d0]:t.days_name=[this.locale.d0,this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6];var e=parseInt(this.options.position.start.getTime()),a=parseInt(this.options.position.end.getTime());switch(t.events=this.getEventsBetween(e,a),this.options.view){case"month":break;case"week":case"day":this._calculate_hour_minutes(t)}t.start=new Date(this.options.position.start.getTime()),t.lang=this.locale,this.context.append(this.options.templates[this.options.view](t)),this._update()},o.prototype._format_hour=function(t,e){var a=t.split(":"),o=parseInt(a[0]),t=parseInt(a[1]),a=(e="undefined"==e)?2:1,e="";return this.options.format12&&(e=o<12?this.options.am_suffix:this.options.pm_suffix,0==(o%=12)&&(o=12)),o.toString().formatNum(a)+":"+t.toString().formatNum(2)+e},o.prototype._format_time=function(t){return this._format_hour(t.getHours()+":"+t.getMinutes())},o.prototype._calculate_hour_minutes=function(i){var s=this,t=parseInt(this.options.time_split),e=60/t,a=Math.min(e,1);(1<=e&&e%1!=0||e<1&&1440/t%1!=0)&&p.error(this.locale.error_timedevide);var o=this.options.time_start.split(":"),n=this.options.time_end.split(":");i.hours=(parseInt(n[0])-parseInt(o[0]))*a;var r=i.hours*e-parseInt(o[1])/t,l=6e4*t,d=new Date(this.options.position.start.getTime());d.setHours(o[0]),d.setMinutes(o[1]);var h=new Date(this.options.position.end.getTime()-864e5);h.setHours(n[0]),h.setMinutes(n[1]),i.all_day=[],i.by_hour=[],i.after_time=[],i.before_time=[],p.each(i.events,function(t,e){var a=new Date(parseInt(e.start)),o=new Date(parseInt(e.end));if(e.start_hour=s._format_time(a),e.end_hour=s._format_time(o),e.start<d.getTime()&&(D(1),e.start_hour=a.getDate()+" "+s.locale["ms"+a.getMonth()]+" "+e.start_hour),e.end>h.getTime()&&(D(1),e.end_hour=o.getDate()+" "+s.locale["ms"+o.getMonth()]+" "+e.end_hour),s.options.show_events_which_fits_time){if(e.start<d.getTime())return void i.before_time.push(e);if(e.end>h.getTime())return void i.after_time.push(e);if(e.start<d.getTime()&&e.end<h.getTime())return void i.all_day.push(e)}else{if(e.start<=d.getTime()&&e.end>=h.getTime())return void i.all_day.push(e);if(e.end<d.getTime())return void i.before_time.push(e);if(e.start>h.getTime())return void i.after_time.push(e)}var n=d.getTime()-e.start;e.top=0<=n?0:Math.abs(n)/l;a=Math.abs(r-e.top),o=(e.end-e.start)/l;0<=n&&(o=(e.end-d.getTime())/l),a<(e.lines=o)&&(e.lines=a),i.by_hour.push(e)})},o.prototype._hour_min=function(t){var e=this.options.time_start.split(":"),a=parseInt(this.options.time_split),o=60/a;return 0==t?o-parseInt(e[1])/a:o},o.prototype._hour=function(t,e){var a=this.options.time_start.split(":"),o=parseInt(this.options.time_split),t=""+(parseInt(a[0])+t*Math.max(o/60,1)),e=""+o*e;return this._format_hour(t.formatNum(2)+":"+e.formatNum(2))},o.prototype._week=async function(t){await this._loadTemplate("week-days");var e={},n=parseInt(this.options.position.start.getTime()),a=parseInt(this.options.position.end.getTime()),i=[],s=r(this,"first_day");return p.each(this.getEventsBetween(n,a),function(t,e){var a=new Date(parseInt(e.start));a.setHours(0,0,0,0);var o=new Date(parseInt(e.end));e.start_day=new Date(parseInt(a.getTime())).getDay(),1==s&&(e.start_day=(e.start_day+6)%7),o.getTime()-a.getTime()<=864e5?e.days=1:e.days=(o.getTime()-a.getTime())/864e5,a.getTime()<n&&(e.days=e.days-(n-a.getTime())/864e5,e.start_day=0),e.days=Math.ceil(e.days),7<e.start_day+e.days&&(e.days=7-e.start_day),i.push(e)}),e.events=i,(e.cal=this).options.templates["week-days"](e)},o.prototype._month=function(t){var e={cal:this},a=t+1;e.data_day=this.options.position.start.getFullYear()+"-"+(a<10?"0"+a:a)+"-01",e.month_name=this.locale["m"+t];a=new Date(this.options.position.start.getFullYear(),t,1,0,0,0);return e.start=parseInt(a.getTime()),e.end=parseInt(new Date(this.options.position.start.getFullYear(),t+1,1,0,0,0).getTime()),e.events=this.getEventsBetween(e.start,e.end),this.options.templates["year-month"](e)},o.prototype._day=function(t,e){var a={tooltip:"",cal:this},o=this.options.classes.months.outmonth,n=this.options.position.start.getDay();2==r(this,"first_day")?n++:n=0==n?7:n,e=e-n+1;var i=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),e,0,0,0);0<e&&(o=this.options.classes.months.inmonth);n=new Date(this.options.position.end.getTime()-1).getDate();n<e+1&&(this.stop_cycling=!0),n<e&&(e-=n,o=this.options.classes.months.outmonth),o=p.trim(o+" "+this._getDayClass("months",i)),e<=0&&(e=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),0).getDate()-Math.abs(e),o+=" cal-month-first-row");n=this._getHoliday(i);return!1!==n&&(a.tooltip=n),a.data_day=i.getFullYear()+"-"+i.getMonthFormatted()+"-"+(e<10?"0"+e:e),a.cls=o,a.day=e,a.start=parseInt(i.getTime()),a.end=parseInt(a.start+864e5),a.events=this.getEventsBetween(a.start,a.end),this.options.templates["month-day"](a)},o.prototype._getHoliday=function(e){var a=!1;return p.each(s(this,e.getFullYear()),function(){var t=!1;if(p.each(this.days,function(){if(this.toDateString()==e.toDateString())return!(t=!0)}),t)return a=this.name,!1}),a},o.prototype._getHolidayName=function(t){t=this._getHoliday(t);return!1===t?"":t},o.prototype._getDayClass=function(a,t){function e(t,e){"string"==typeof(t=o.options.classes&&a in o.options.classes&&t in o.options.classes[a]?o.options.classes[a][t]:"")&&t.length&&e.push(t)}var o=this,n=[];switch(t.toDateString()==(new Date).toDateString()&&e("today",n),!1!==this._getHoliday(t)&&e("holidays",n),t.getDay()){case 0:e("sunday",n);break;case 6:e("saturday",n)}return e(t.toDateString(),n),n.join(" ")},o.prototype.view=async function(t){if(t){if(!this.options.views[t].enable)return;this.options.view=t}this._init_position(),this._loadEvents(),await this._loadTemplate("year-month"),await this._loadTemplate("month-day"),await this._render(),this.options.onAfterViewLoad.call(this,this.options.view)},o.prototype.navigate=async function(t,e){var a=p.extend({},this.options.position);if("next"==t)switch(this.options.view){case"year":a.start.setFullYear(this.options.position.start.getFullYear()+1);break;case"month":a.start.setMonth(this.options.position.start.getMonth()+1);break;case"week":a.start.setDate(this.options.position.start.getDate()+7);break;case"day":a.start.setDate(this.options.position.start.getDate()+1)}else if("prev"==t)switch(this.options.view){case"year":a.start.setFullYear(this.options.position.start.getFullYear()-1);break;case"month":a.start.setMonth(this.options.position.start.getMonth()-1);break;case"week":a.start.setDate(this.options.position.start.getDate()-7);break;case"day":a.start.setDate(this.options.position.start.getDate()-1)}else"today"==t?a.start.setTime((new Date).getTime()):p.error(this.locale.error_where.format(t));this.options.day=a.start.getFullYear()+"-"+a.start.getMonthFormatted()+"-"+a.start.getDateFormatted(),await this.view(),_.isFunction(e)&&e()},o.prototype._init_position=function(){var t,e,a,o;switch("now"==this.options.day?(t=(o=new Date).getFullYear(),e=o.getMonth(),a=o.getDate()):this.options.day.match(/^\d{4}-\d{2}-\d{2}$/g)?(o=this.options.day.split("-"),t=parseInt(o[0],10),e=parseInt(o[1],10)-1,a=parseInt(o[2],10)):p.error(this.locale.error_dateformat.format(this.options.day)),this.options.view){case"year":this.options.position.start.setTime(new Date(t,0,1).getTime()),this.options.position.end.setTime(new Date(t+1,0,1).getTime());break;case"month":this.options.position.start.setTime(new Date(t,e,1).getTime()),this.options.position.end.setTime(new Date(t,e+1,1).getTime());break;case"day":this.options.position.start.setTime(new Date(t,e,a).getTime()),this.options.position.end.setTime(new Date(t,e,a+1).getTime());break;case"week":var n=new Date(t,e,a),n=1==r(this,"first_day")?n.getDate()-(n.getDay()+6)%7:n.getDate()-n.getDay();this.options.position.start.setTime(new Date(t,e,n).getTime()),this.options.position.end.setTime(new Date(t,e,n+7).getTime());break;default:p.error(this.locale.error_noview.format(this.options.view))}return this},o.prototype.getTitle=function(){var t=this.options.position.start;switch(this.options.view){case"year":return this.locale.title_year.format(t.getFullYear());case"month":return this.locale.title_month.format(this.locale["m"+t.getMonth()],t.getFullYear());case"week":return this.locale.title_week.format(t.getWeek(r(this,"week_numbers_iso_8601")),t.getFullYear());case"day":return this.locale.title_day.format(this.locale["d"+t.getDay()],t.getDate(),this.locale["m"+t.getMonth()],t.getFullYear())}},o.prototype.getYear=function(){return this.options.position.start.getFullYear()},o.prototype.getMonth=function(){var t=this.options.position.start;return this.locale["m"+t.getMonth()]},o.prototype.getDay=function(){var t=this.options.position.start;return this.locale["d"+t.getDay()]},o.prototype.isToday=function(){var t=(new Date).getTime();return t>this.options.position.start&&t<this.options.position.end},o.prototype.getStartDate=function(){return this.options.position.start},o.prototype.getEndDate=function(){return this.options.position.end},o.prototype._loadEvents=function(){var t,o=this,n=null;switch("events_source"in this.options&&""!==this.options.events_source?n=this.options.events_source:"events_url"in this.options&&(n=this.options.events_url,D("The events_url option is DEPRECATED and it will be REMOVED in near future. Please use events_source instead.")),p.type(n)){case"function":t=function(){return n(o.options.position.start,o.options.position.end,i)};break;case"array":t=function(){return[].concat(n)};break;case"string":n.length&&(t=function(){var e=[],t=o.options.position.start,a=o.options.position.end,a={from:t.getTime(),to:a.getTime(),utc_offset_from:t.getTimezoneOffset(),utc_offset_to:a.getTimezoneOffset()};return i.length&&(a.browser_timezone=i),p.ajax({url:function(t,e){var a,o=t,n=t.indexOf("?")<0?"?":"&";for(a in e)o+=n+a+"="+encodeURIComponent(e[a]),n="&";return o}(n,a),dataType:"json",type:"GET",async:!0,headers:o.options.headers}).done(function(t){t.success||p.error(t.error),t.result&&(e=t.result)}),e})}t||p.error(this.locale.error_loadurl),this.options.onBeforeEventsLoad.call(this,function(){o.options.events.length&&o.options.events_cache||(o.options.events=t(),o.options.events.sort(function(t,e){var a=t.start-e.start;return 0==a&&(a=t.end-e.end),a})),o.options.onAfterEventsLoad.call(o,o.options.events)})},o.prototype._templatePath=function(t){return"function"==typeof this.options.tmpl_path?this.options.tmpl_path(t):this.options.tmpl_path+t+".html"},o.prototype._loadTemplate=async function(o){var n=this;return new Promise((e,a)=>{n.options.templates[o]&&e(),p.ajax({url:n._templatePath(o),dataType:"html",type:"GET",cache:n.options.tmpl_cache}).done(function(t){n.options.templates[o]=_.template(t),e()}).fail(function(t,e){a()})})},o.prototype._update=function(){var e=this;p('*[data-toggle="tooltip"]').tooltip({container:this.options.tooltip_container}),p("*[data-cal-date]").click(async function(){var t=p(this).data("cal-view");e.options.day=p(this).data("cal-date"),await e.view(t)}),p(".cal-cell").dblclick(async function(){var t=p("[data-cal-date]",this).data("cal-view");e.options.day=p("[data-cal-date]",this).data("cal-date"),await e.view(t)}),this["_update_"+this.options.view](),this._update_modal()},o.prototype._update_modal=function(){var n,t,i=this;p("a[data-event-id]",this.context).unbind("click"),!i.options.modal||(n=p(i.options.modal)).length&&(t=null,"iframe"==i.options.modal_type&&(t=p(document.createElement("iframe")).attr({width:"100%",frameborder:"0"})),p("a[data-event-id]",this.context).on("click",function(a){a.preventDefault(),a.stopPropagation();var o=p(this).attr("href"),e=p(this).data("event-id"),a=_.find(i.options.events,function(t){return t.id==e});"iframe"==i.options.modal_type&&(t.attr("src",o),p(".modal-body",n).html(t)),(!n.data("handled.bootstrap-calendar")||n.data("handled.bootstrap-calendar")&&n.data("handled.event-id")!=a.id)&&n.off("show.bs.modal").off("shown.bs.modal").off("hidden.bs.modal").on("show.bs.modal",async function(){var e=p(this).find(".modal-body");switch(i.options.modal_type){case"iframe":var t=e.height()-parseInt(e.css("padding-top"),10)-parseInt(e.css("padding-bottom"),10);p(this).find("iframe").height(Math.max(t,50));break;case"ajax":p.ajax({url:o,dataType:"html",async:!0,success:function(t){e.html(t)}});break;case"template":await i._loadTemplate("modal"),e.html(i.options.templates.modal({event:a,calendar:i}))}_.isFunction(i.options.modal_title)&&n.find(".modal-title").html(i.options.modal_title(a))}).on("shown.bs.modal",function(){i.options.onAfterModalShown.call(i,i.options.events)}).on("hidden.bs.modal",function(){i.options.onAfterModalHidden.call(i,i.options.events)}).data("handled.bootstrap-calendar",!0).data("handled.event-id",a.id),n.modal("show")}))},o.prototype._update_day=function(){p("#cal-day-panel").height(p("#cal-day-panel-hour").height())},o.prototype._update_week=function(){},o.prototype._update_year=function(){this._update_month_year()},o.prototype._update_month=function(){this._update_month_year();var o,n,i=this;1==this.options.weekbox&&(o=p(document.createElement("div")).attr("id","cal-week-box"),n=this.options.position.start.getFullYear()+"-"+this.options.position.start.getMonthFormatted()+"-",i.context.find(".cal-month-box .cal-row-fluid").on("mouseenter",function(){var t=new Date(i.options.position.start),e=p(".cal-cell1:first-child .cal-month-day",this),a=e.hasClass("cal-month-first-row")?1:p("[data-cal-date]",e).text();t.setDate(parseInt(a)),a=a<10?"0"+a:a,o.html(i.locale.week.format(1==i.options.display_week_numbers?t.getWeek(r(i,"week_numbers_iso_8601")):"")),o.attr("data-cal-week",n+a).show().appendTo(e)}).on("mouseleave",function(){o.hide()}),o.click(async function(){i.options.day=p(this).data("cal-week"),await i.view("week")})),i.context.find("a.event").mouseenter(function(){p('a[data-event-id="'+p(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+p(this).data("event-class"))}),i.context.find("a.event").mouseleave(function(){p("div.cal-cell1").removeClass("day-highlight dh-"+p(this).data("event-class"))})},o.prototype._update_month_year=async function(){var e,a,o;this.options.views[this.options.view].slide_events&&(e=this,a=p(document.createElement("div")).attr("id","cal-day-tick").html('<span class="fas fa-chevron-down"></span>'),e.context.find(".cal-month-day, .cal-year-box .span3").on("mouseenter",function(){0!=p(".events-list",this).length&&p(this).children("[data-cal-date]").text()!=e.activecell&&a.show().appendTo(this)}).on("mouseleave",function(){a.hide()}).on("click",function(t){0!=p(".events-list",this).length&&p(this).children("[data-cal-date]").text()!=e.activecell&&l(t,a,o,e)}),(o=p(document.createElement("div")).attr("id","cal-slide-box")).hide().click(function(t){t.stopPropagation()}),await this._loadTemplate("events-list"),a.click(function(t){l(t,p(this),o,e)}))},o.prototype.getEventsBetween=function(e,a){var o=[];return p.each(this.options.events,function(){if(null==this.start)return!0;var t=this.end||this.start;parseInt(this.start)<a&&parseInt(t)>e&&o.push(this)}),o},p.fn.calendar=function(t){return new o(t,this)}}(jQuery);
