<?php
// set title
$this->headTitle($this->translate('Photos')); ?>
<div class="content-container">
    <section class="section">
        <div class="container">
            <ul class="nav nav-pills head-menu">
                <?php for ($i = count($years) - 1; $i >= max(0, count($years) - 5); $i--): ?>
                    <li>
                        <a href="<?= $this->url('photo/year', ['year' => $years[$i]]); ?>">
                            <?= $years[$i] ?>-<?= $years[$i] + 1 ?>
                        </a>
                    </li>
                <?php endfor; ?>
                <li role="presentation" class="dropdown">
                    <a class="dropdown-toggle"
                       data-toggle="dropdown"
                       href="#"
                       role="button"
                       aria-haspopup="true"
                       aria-expanded="false">
                        <?= $this->translate('Older') ?> <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <?php for ($i = max(0, count($years) - 6); $i > 0; $i--): ?>
                            <li>
                                <a href="<?= $this->url('photo/year', ['year' => $years[$i]]); ?>">
                                    <?= $years[$i] ?>-<?= $years[$i] + 1 ?>
                                </a>
                            </li>
                        <?php endfor ?>
                    </ul>
                </li>
            </ul>
        </div>
    </section>
    <?php if (!empty($albums)): ?>
        <section class="section">
            <div class="container">
                <div class="row">
                    <?php foreach ($albums as $album): ?>
                        <?php if ($album->getPhotoCount() > 0): ?>
                            <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                                <a class="thumbnail"
                                   href="<?= $this->url('photo/album', ['album_id' => $album->getId(), 'album_type' => 'album']) ?>">
                                    <?php if (null !== ($albumCover = $album->getCoverPath())): ?>
                                        <img class="img-responsive" src="<?= $this->fileUrl($albumCover) ?>" alt="">
                                    <?php endif; ?>
                                    <div class="caption">
                                        <p><?= $this->escapeHtml($album->getName()) ?></p>
                                    </div>
                                </a>
                            </div>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </div>
            </div>
        </section>
    <?php endif; ?>
</div>

