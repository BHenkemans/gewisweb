<?php 
$form = $packageEditForm;
?>
<?php $form->prepare()?>
<?= $this->form()->openTag($form) ?>
<dl>
<?php $element = $form->get('id') ?>
    <?= $this->formElement($element) ?>
    <?php
    $element = $form->get('startDate');
    $element->setAttribute('class', 'form-control');
    ?>
    <div class="form-group<?= count($element->getMessages()) > 0 ? ' has-error' : '' ?>">
        <label for="<?= $element->getName() ?>" class="control-label col-sm-2">
            <?= $element->getOption('label') ?>
        </label>
        <?= $this->formInput($element) ?>
        <?= $this->formElementErrors($element) ?>
    </div>
    <?php
    $element = $form->get('expirationDate');
    $element->setAttribute('class', 'form-control');
    ?>
    <div class="form-group<?= count($element->getMessages()) > 0 ? ' has-error' : '' ?>">
        <label for="<?= $element->getName() ?>" class="control-label col-sm-2">
            <?= $element->getOption('label') ?>
        </label>
        <?= $this->formInput($element) ?>
        <?= $this->formElementErrors($element) ?>
    </div>
    <?php
    $element = $form->get('published');
    ?>
    <div class="checkbox">
        <label>
            <?= $this->formCheckbox($element) ?>
            <?= $element->getOption('label') ?>
            <?= $this->formElementErrors($element) ?>
        </label>
    </div>

<?php if ($type === 'banner'):
    $element = $form->get('banner')?>
        <img src=<?= $this->fileUrl($package->getImage()) ?>><?= $this->translate('Company Logo') ?></img>
    <dt><?= $element->getOption('label') ?></dt>
    <dd>
        <?= $this->formElement($element) ?>
        <?= $this->formElementErrors($element); ?>
    </dd>
<?php endif;?>
<?php if ($type === 'featured'):?>
    <?php $element = $form->get('language')?>
    <dt><?= $element->getOption('label') ?></dt>
    <dd>
        <?= $this->formElement($element) ?>
        <?= $this->formElementErrors($element); ?>
    </dd>
    <?php $element = $form->get('article')?>
    <dt><?= $element->getOption('label') ?></dt>
    <dd>
        <?= $this->formElement($element) ?>
        <?= $this->formElementErrors($element); ?>
    </dd>
<?php endif;?>

    <?php
    $submit = $form->get('submit');
    $submit->setLabel($this->translate('Save'));
    $submit->setAttribute('class', 'btn btn-primary');
    ?>
    <div class="form-group">
        <?= $this->formButton($submit) ?>
    </div>
<?= $this->form()->closeTag(); ?>

    <?php if ($type === 'job'): ?>
        <h2><?= $this->translate('Jobs') ?><a class="btn btn-success pull-right" href="<?= $this->url("admin_company/editCompany/editPackage/addJob",
            ["slugCompanyName" => $companyName, 'packageID' => $package->getId()]); ?>">
                <span class="glyphicon glyphicon-plus"></span>
                <?= $this->translate('Add job'); ?>
        </a></h2>
<table class="table table-striped">
    <thead>
        <tr>
            <th>
                <?= $this->translate('Name'); ?>
            </th>
            <th>
                <?= $this->translate('Active'); ?>
            </th>
            <th>
                <?= $this->translate('Action'); ?>
            </th>
        </tr>
    </thead>

    <?php foreach($package->getJobs() as $job): ?>
            <tr>
                <td>
                    <?= $job->getName() ?>
                </td>
                <td>
                    <?php echo $job->isActive() ? 'Yes' : 'No'?>
                </td>
                <td>
                    <a class="btn btn-xs btn-primary" href="<?= $this->url("admin_company/editCompany/editPackage/editJob",
                        [
                            "slugCompanyName" => $companyName,
                            "packageID" => $package->getId(),
                            "jobName" => $job->getSlugName(),
                        ]
                    ); ?>">
                        <?= $this->translate('edit'); ?></a>
                </td>
            </tr>
    <?php endforeach ?>
</table>
<?php endif ?>
